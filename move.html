<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/sm.min.css">
    <link rel="stylesheet" href="css/sm-extend.min.css">
    <link rel="stylesheet" href="font/iconfont.css">
    <title>Title</title>

</head>
<body id="index-box">
<!-- page集合的容器，里面放多个平行的.page，其他.page作为内联页面由路由控制展示 -->
    <div class="page-group" id="page-group">
        <!-- 单个page ,第一个.page默认被展示-->
        <div class="page">
            <!-- 工具栏 -->
            <nav class="bar bar-tab">
                <a class="tab-item external active" href="#">
                    <!--<span class="icon icon-home"></span>-->
                    <span class="tab-label">我要挪车</span>
                </a>
                <a class="tab-item external" href="#">
                    <!--<span class="icon icon-star"></span>-->
                    <span class="tab-label">我要保险</span>
                </a>
                <a class="tab-item external" href="#">
                    <!--<span class="icon icon-settings"></span>-->
                    <span class="tab-label">挪车记录</span>
                </a>
            </nav>

            <!-- 这里是页面内容区 -->
            <div class="content">
                <!-- Slider -->
                <div class="swiper-container" data-space-between='10' style="height: 200px;">
                    <div class="swiper-wrapper" id="swiper-wrapper">
                        <!-- <div class="swiper-slide" @click="goDetail(item)" v-for="(item,index) in bannerList"><img :src="item.pic" alt=""></div> -->
                        <div class="swiper-slide"><img src="images/banner.png" alt=""></div>
                        <div class="swiper-slide"><img src="images/banner.png" alt=""></div>
                    </div>
                    <div class="swiper-pagination"></div>
                </div>
                <!--formBox-->
                <div class="formBox">
                    <div class="list-block">
                        <ul>
                            <!-- Text inputs -->
                            <li>
                                <div class="item-content">
                                    <div class="item-media"><i class="icon icon-form-name"></i></div>
                                    <div class="item-inner">
                                        <div class="item-title label"><b>*</b>&nbsp;车牌号码</div>
                                        <div class="item-input">
                                            <input type="text" v-model="car_no" placeholder="请拍照上传您的行驶证" id="car_no"  @focus="inputFocus('#car_no')">
                                        </div>
                                        <div>
                                            <span class="iconfont icon-camera"></span>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div class="item-content">
                                    <div class="item-media"><i class="icon icon-form-name"></i></div>
                                    <div class="item-inner">
                                        <div class="item-title label"><b>*</b>&nbsp;挪车原因</div>
                                        <div class="item-input">
                                            <input type="text" v-model="reason" placeholder="请输入挪车原因" id="reason"  @focus="inputFocus('#reason')">
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div class="item-content">
                                    <div class="item-media"><i class="icon icon-form-name"></i></div>
                                    <div class="item-inner">
                                        <div class="item-input">
                                            <input type="text" v-model="address" placeholder="选择地址" id="address"  @focus="inputFocus('#address')">
                                        </div>
                                        <div>
                                            <span class="iconfont icon-address"></span>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                        <p class="tip"><span class="iconfont icon-warning-o" id="tip"></span>服务说明</p>
                    </div>
                    <a href="javascript:;" class="button button-fill button-submit" :class="[submitStatus ? '':'gray']" >提交</a>

                </div>
            </div>
        </div>
    </div>
    <script src="js/zepto.min.js"></script>
    <script src="js/sm.min.js"></script>
    <script src="js/sm-extend.min.js"></script>
    <script src="js/vue.min.js"></script>
    <script>
        $(function () {
            new Vue({
                el: "#page-group",
                data: {
                    scrTop:0,
                    car_no:'',
                    reason:'',
                    address:'',
                    submitStatus:false,
                    detailState:false,
                    bannerList:[],
                    bannerLink:'https://xnt.xhwxpos.com/pingan/index.php/weixin/index/ajax_get_banner.html',
                    postLink:'https://xnt.xhwxpos.com/pingan/index.php/weixin/index/ajax_post_data.html'
                },
                methods:{
                    getBanner:function(){
                        var This = this;
                        $.ajax({
                            url:this.bannerLink,
                            data:{
                                page_type:1
                            },
                            type:'GET',
                            dataType:'json',
                            success:function(res){
                                if(res.status == 0 ){
                                    This.bannerList = res.data;
                                    if(This.bannerList.length == 1){
                                        $(".swiper-container").swiper();
                                    }else{
                                        setTimeout(function(){
                                            var imgSrc = $('.swiper-slide').find('img');
                                            var arrHeight = [];
                                            for(var i = 0 ; i < imgSrc.length ; i++){
                                                arrHeight.push(imgSrc.eq(i).height());
                                            }
                                            var arrHeight = arrHeight.sort(function(a,b){return a-b});
                                            $('.swiper-container').css({'height':arrHeight[0]+'px','overflow-y':'hidden'})
                                            $(".swiper-container").swiper({
                                                pagination: ".swiper-pagination",
                                                autoplay:2000,
                                                loop : true,
                                            });
                                        },600)
                                    }
                                }
                            }
                        })
                    },
                    inputFocus:function(id){
                       this.scrTop = $(id).offset().top
                    }
                },
                mounted:function(){
                    var This = this;
                    // this.getBanner();
                    // $('.swiper-container').css({'height':arrHeight[0]+'px','overflow-y':'hidden'})
                    $(".swiper-container").swiper({
                        pagination: ".swiper-pagination",
                        autoplay:2000,
                        loop : true,
                    });
                    $(window).resize(function(){
                       setTimeout(function(){
                           $(".content").scrollTop(This.scrTop);
                       },30)
                    })
                    $(document).on('click','.tip', function () {
                        $.alert('Here goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert textHere goes alert text', '服务说明');
                    });
                }
            })
        })
    </script>
</body>
</html>